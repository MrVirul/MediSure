<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - MediSure</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-50">
<nav class="bg-white shadow-md">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
        <div class="flex items-center gap-2">
            <img alt="MediSure Logo" class="h-8 w-8" th:src="@{/images/logo.png}"/>
            <span class="font-semibold text-cyan-700">MediSure</span>
        </div>
        <a href="/" class="text-cyan-700 hover:underline">Back to Home</a>
    </div>
</nav>

<main class="max-w-md mx-auto mt-12 bg-white p-8 rounded-xl shadow">
    <h1 class="text-2xl font-bold text-center text-cyan-700 mb-6">Sign in to your account</h1>

    <div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded px-4 py-3" th:if="${param.error}">
        Invalid username or password
    </div>
    <div class="mb-4 text-sm text-green-700 bg-green-50 border border-green-200 rounded px-4 py-3" th:if="${param.logout}">
        You have been successfully logged out
    </div>

    <form class="space-y-5" method="post" th:action="@{/login}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <div>
            <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
            <input id="username" name="username" type="text" required
                   class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-500">
        </div>

        <div>
            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
            <input id="password" name="password" type="password" required
                   class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-500">
        </div>

        <button type="submit"
                class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-medium px-4 py-2 rounded-md shadow">
            Sign in
        </button>
    </form>

    <div class="my-6 flex items-center">
        <div class="flex-grow border-t"></div>
        <span class="px-4 text-gray-500 text-sm">or</span>
        <div class="flex-grow border-t"></div>
    </div>

    <a href="/oauth2/authorization/google"
       class="w-full flex items-center justify-center gap-2 border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium px-4 py-2 rounded-md">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="h-5 w-5"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.393,6.053,28.883,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,16.108,19.025,13,24,13c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.393,6.053,28.883,4,24,4C16.318,4,9.65,8.063,6.306,14.691z"/><path fill="#4CAF50" d="M24,44c4.798,0,9.163-1.842,12.479-4.99l-5.772-4.869C28.745,35.476,26.513,36,24,36 c-5.202,0-9.619-3.349-11.283-8.058l-6.554,5.047C9.568,40.556,16.146,44,24,44z"/><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.393,6.053,28.883,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/></svg>
        Continue with Google
    </a>

    <p class="text-xs text-gray-500 text-center mt-6">Demo users: user/password, admin/admin123</p>
</main>

</body>
</html>